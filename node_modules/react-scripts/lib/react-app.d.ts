import React from 'react';
import styled from 'styled-components';
import { ReactComponent as ChevronLeftIcon } from '../img/chevron-left.svg'; // SVG 파일 import
import { ReactComponent as SearchIcon } from '../img/search.svg'; // SVG 파일 import
import { ReactComponent as ListIcon } from '../img/list.svg'; // SVG 파일 import

// Styled components
const PageContainer = styled.div`
    height: 100vh; /* 전체 화면 높이 */
    background-color: #252E3E; /* 전체 페이지 배경색 */
    display: flex;
    flex-direction: column;
`;

const ChatContainer = styled.div`
    display: flex;
    flex-direction: column;
    flex: 1; /* ChatContainer가 페이지의 남은 공간을 차지하도록 함 */
`;

const Header = styled.div`
    background-color: rgba(37, 46, 62, 0.9); /* 약간 반투명한 헤더 배경색 */
    padding: 15px; /* 헤더 세로 길이 증가 */
    display: flex;
    flex-direction: column; /* 헤더 내부 요소를 수직으로 배치 */
    align-items: center; /* 가운데 정렬 */
    justify-content: center; /* 가운데 정렬 */
    position: relative; /* 헤더에 버튼을 절대 위치로 배치하기 위해 설정 */
`;

const HeaderTitle = styled.div`
    font-size: 30px;
    color: white; /* 텍스트 색상 흰색 */
    text-align: center; /* 텍스트 가운데 정렬 */
    margin-top: 15px;
    margin-bottom: 5px; /* 제목과 전화번호 사이에 공간 추가 */
`;

const HeaderPhone = styled.div`
    font-size: 20px;
    color: white; /* 전화번호 색상 흰색 */
`;

const HeaderButton = styled.button`
    background: none;
    border: none;
    cursor: pointer;
    color: white; /* 버튼 색상 흰색 */
    position: absolute;
    left: 15px; /* 왼쪽에 위치하게 하기 위해 추가 */
    top: 15px; /* 상단에 위치하게 하기 위해 추가 */
`;

const Icon = styled.svg`
    width: 30px;
    height: 30px;
    fill: white; /* 아이콘 색상 흰색 */
`;

const ChevronIcon = styled(ChevronLeftIcon)`
    ${Icon}
    transform: rotate(180deg); /* 아이콘을 왼쪽으로 뒤집기 */
`;

const SearchIconStyled = styled(SearchIcon)`
    ${Icon}
`;

const ListIconStyled = styled(ListIcon)`
    ${Icon}
`;

const MessageList = styled.div`
    flex: 1;
    overflow-y: auto;
    padding: 10px;
`;

const Message = styled.div`
    display: flex;
    flex-direction: column;
    margin-bottom: 20px;
    padding-left: 20px; /* 메시지를 왼쪽에서 떨어지게 하기 위한 여백 */
`;

const Sender = styled.div`
    font-weight: bold;
    margin-bottom: 5px;
`;

const Text = styled.div`
    background-color: #f1f1f1;
    border-radius: 10px;
    padding: 10px;
    word-wrap: break-word;
    max-width: 80%;
    color: #000000;
`;

const InputContainer = styled.div`
    display: flex;
    align-items: center;
    padding: 10px;
    border-top: 1px solid #e2e2e0;
    background-color: #ffffff; /* 입력창 배경색 */
`;

const InputField = styled.input`
    flex: 1;
    padding: 10px;
    border-radius: 20px;
    border: 1px solid #e2e2e0;
    margin-right: 10px;
`;

const SendButton = styled.button`
    background-color: #007aff;
    color: white;
    border: none;
    padding: 10px;
    border-radius: 20px;
    cursor: pointer;
`;

const ChatMessage = () => {
    const [inputValue, setInputValue] = useState('');

    const handleSend = () => {
        if (inputValue.trim()) {
            // Handle sending message
            setInputValue('');
        }
    };

    return (
        <PageContainer>
            <ChatContainer>
                <Header>
                    <HeaderButton>
                        <ChevronIcon />
                    </HeaderButton>
                    <HeaderTitle>광화문석갈비</HeaderTitle>
                    <HeaderPhone>02-539-0107</HeaderPhone>
                    <div style={{ display: 'flex', gap: '10px' }}>
                        <SearchIconStyled />
                        <ListIconStyled />
                    </div>
                </Header>
                <MessageList>
                    <Message>
                        <Sender>광화문석갈비</Sender>
                        <Text>
                            <p>'광화문석갈비' 채널을 추가해 주셔서 감사합니다.</p>
                            <p>앞으로 다양한 소식과 혜택/정보를 메시지로 받을 수 있습니다.</p>
                            <p>채널 추가 일시(한국시간 기준): 2024년 03월 13일 12:11</p>
                            <p>수신거부: 홈&gt;채널 차단</p>
                        </Text>
                    </Message>
                    <Message>
                        <Sender>광화문석갈비</Sender>
                        <Text>
                            <p>좋은 고기를 태우지 않고 먹을 수 없을까?</p>
                            <p>고기를 먹을 때 웃에 냄새가 안 뻘 수 없을까?</p>
                            <p>이렇게 시작된 광석씨네 이야기</p>
                        </Text>
                    </Message>
                </MessageList>
                <InputContainer>
                    <InputField
                        type="text"
                        placeholder="메시지를 입력하세요..."
                        value={inputValue}
                        onChange={(e) => setInputValue(e.target.value)}
                    />
                    <SendButton onClick={handleSend}>전송</SendButton>
                </InputContainer>
            </ChatContainer>
        </PageContainer>
    );
};

export default ChatMessage;
